<!DOCTYPE html>
<html lang="fa" dir="rtl">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title> فرم استراتژی </title>
  <link rel="shortcut icon" href="../header-icon.svg" type="imageم/x-icon">
  <link rel="stylesheet" href="styless.css">
  <script src="apiHandeler.js" defer></script>
  <script src="start.js" defer></script>
</head>
<body>

  <div class="container">
    <div class="progress-wizard">
        <div class="wizard-step">1</div>
        <div class="wizard-step">2</div>
        <div class="wizard-step">3</div>
        <div class="wizard-step">4</div>
        <div class="wizard-step">5</div>
    </div>

    <form id="wizard-form">
        <!-- مرحله 1: پلتفرم و استراتژی -->
        <div class="step active">
            <h2>مرحله ۱: پلتفرم و استراتژی</h2>
            <div class="buttons">
              <button id="skipBtn" style="display: inline-block;">رد کردن</button>
            </div>
            <div class="form-group">
                <label>پلتفرم</label>
                <div>
                    <label class="option-label"><input type="radio" name="platform" value="MetaTrader 4" required> <span>MetaTrader 4</span></label>
                    <label class="option-label"><input type="radio" name="platform" value="MetaTrader 5"> <span>MetaTrader 5</span></label>
                    <label class="option-label"><input type="radio" name="platform" value="TradingView"> <span>TradingView</span></label>
                    <label class="option-label"><input type="radio" name="platform" value="NinjaTrader"> <span>NinjaTrader</span></label>
                    <label class="option-label"><input type="radio" name="platform" value="cTrader"> <span>cTrader</span></label>
                    <label class="option-label"><input type="radio" name="platform" value="other"> <span>سایر</span></label>
                </div>
                <div class="error-message"></div>
            </div>
            <div class="form-group">
                <label>زبان برنامه‌نویسی</label>
                <div>
                    <label class="option-label"><input type="radio" name="language" value="MQL4" required> <span>MQL4</span></label>
                    <label class="option-label"><input type="radio" name="language" value="MQL5"> <span>MQL5</span></label>
                    <label class="option-label"><input type="radio" name="language" value="PineScript"> <span>PineScript</span></label>
                    <label class="option-label"><input type="radio" name="language" value="C#"> <span>C#</span></label>
                    <label class="option-label"><input type="radio" name="language" value="Python"> <span>Python</span></label>
                    <label class="option-label"><input type="radio" name="language" value="other"> <span>سایر</span></label>
                </div>
                <div class="error-message"></div>
            </div>
            <div class="form-group">
                <label>نوع استراتژی</label>
                <div>
                    <label class="option-label"><input type="radio" name="strategy" value="Scalp" required> <span>Scalp</span></label>
                    <label class="option-label"><input type="radio" name="strategy" value="Fast Scalp"> <span>Fast Scalp</span></label>
                    <label class="option-label"><input type="radio" name="strategy" value="Price Action"> <span>Price Action</span></label>
                    <label class="option-label"><input type="radio" name="strategy" value="Hedging"> <span>Hedging</span></label>
                    <label class="option-label"><input type="radio" name="strategy" value="Martingale"> <span>Martingale</span></label>
                    <label class="option-label"><input type="radio" name="strategy" value="other"> <span>سایر</span></label>
                </div>
                <div class="error-message"></div>
            </div>
            <div class="form-group">
                <label>مارکت هدف</label>
                <div>
                    <label class="option-label"><input type="radio" name="market" value="Forex" required> <span>Forex</span></label>
                    <label class="option-label"><input type="radio" name="market" value="Stocks"> <span>Stocks</span></label>
                    <label class="option-label"><input type="radio" name="market" value="Futures"> <span>Futures</span></label>
                    <label class="option-label"><input type="radio" name="market" value="Crypto"> <span>Crypto</span></label>
                    <label class="option-label"><input type="radio" name="market" value="other"> <span>سایر</span></label>
                </div>
                <div class="error-message"></div>
            </div>
            <div class="form-group">
                <label>تایم‌فریم</label>
                <div class="radio-group">
                    <label class="option-label">
                        <input type="radio" name="timeFrame" value="1m" required>
                        <span>1m</span>
                    </label>
                    <label class="option-label">
                        <input type="radio" name="timeFrame" value="5m" required>
                        <span>5m</span>
                    </label>
                    <label class="option-label">
                        <input type="radio" name="timeFrame" value="15m" required>
                        <span>15m</span>
                    </label>
                    <label class="option-label">
                        <input type="radio" name="timeFrame" value="current" required>
                        <span>30m</span>
                    </label>
                    <label class="option-label">
                        <input type="radio" name="timeFrame" value="1h" required>
                        <span>1h</span>
                    </label>
                    <label class="option-label">
                        <input type="radio" name="timeFrame" value="current" required>
                        <span>h4</span>
                    </label>
                    <label class="option-label">
                        <input type="radio" name="timeFrame" value="1d" required>
                        <span>1d</span>
                    </label>
                    <label class="option-label">
                        <input type="radio" name="timeFrame" value="current" required>
                        <span>current</span>
                    </label>
                </div>
                <div class="error-message"></div>
            </div>
        </div>

        <!-- مرحله ۲: اندیکاتورها و SL/TP -->
        <div class="step">
              <h2>مرحله ۲: اندیکاتورها و SL/TP</h2>
              <div class="form-group">
                  <label>اندیکاتور اصلی</label>
                  <div class="options-container">
                      <label class="option-label">
                          <input type="radio" name="indicator" value="RSI" required>
                          <span>RSI</span>
                      </label>
                      <label class="option-label">
                          <input type="radio" name="indicator" value="MACD">
                          <span>MACD</span>
                      </label>
                      <label class="option-label">
                          <input type="radio" name="indicator" value="EMA">
                          <span>EMA</span>
                      </label>
                      <label class="option-label">
                          <input type="radio" name="indicator" value="Bollinger Bands">
                          <span>Bollinger Bands</span>
                      </label>
                      <label class="option-label">
                          <input type="radio" name="indicator" value="other">
                          <span>سایر</span>
                      </label>
                  </div>
                  <div class="error-message"></div>
              </div>
              <!-- بقیه بخش‌ها مانند پارامترها و SL/TP بدون تغییر باقی می‌مانند -->
              <div class="indicator-params">
                  <div class="form-group">
                      <label>پارامتر ۱</label>
                      <input type="number" name="param1" placeholder="پارامتر ۱">
                      <div class="error-message"></div>
                  </div>
                  <div class="form-group">
                      <label>پارامتر ۲</label>
                      <input type="number" name="param2" placeholder="پارامتر ۲">
                      <div class="error-message"></div>
                  </div>
                  <div class="form-group rsi-specific">
                      <label>سطح بالا (Overbought)</label>
                      <input type="number" name="overbought" placeholder="سطح بالا">
                      <div class="error-message"></div>
                  </div>
                  <div class="form-group rsi-specific">
                      <label>سطح پایین (Oversold)</label>
                      <input type="number" name="oversold" placeholder="سطح پایین">
                      <div class="error-message"></div>
                  </div>
              </div>
              <!-- ادامه کد برای SL/TP -->
              <div class="form-group">
                  <label>نوع SL/TP</label>
                  <div class="options-container">
                      <label class="option-label">
                          <input type="radio" name="slTpType" value="ثابت" required>
                          <span>ثابت</span>
                      </label>
                      <label class="option-label">
                          <input type="radio" name="slTpType" value="پویا">
                          <span>پویا</span>
                      </label>
                  </div>
                  <div class="error-message"></div>
              </div>
              <div class="sl-tp-values form-group">
                  <label>SL (پیپ)</label>
                  <input type="number" name="sl" placeholder="SL (پیپ)">
                  <div class="error-message"></div>
              </div>
              <div class="sl-tp-values form-group">
                  <label>TP (پیپ)</label>
                  <input type="number" name="tp" placeholder="TP (پیپ)">
                  <div class="error-message"></div>
              </div>
        </div>



        <!-- مرحله 3: مدیریت زمان و ریسک -->
        <div class="step">
          <h2>مرحله ۳: مدیریت زمان و ریسک</h2>
          <!-- ساعت شروع فعالیت -->
          <div class="form-group">
              <label class="option-label">
                  <input type="checkbox" name="activityTimeEnabled"> 
                  <span>فعال کردن ساعت فعالیت</span>
              </label>
          </div>
          <div class="activity-time-fields" style="display: none;">
              <div class="form-group">
                  <label>ساعت شروع فعالیت</label>
                  <input type="time" name="startTime" required>
                  <div class="error-message"></div>
              </div>
              <div class="form-group">
                  <label>ساعت پایان فعالیت</label>
                  <input type="time" name="endTime" required>
                  <div class="error-message"></div>
              </div>
          </div>

          <!-- حداقل/حداکثر معاملات -->
          <div class="form-group">
              <label class="option-label">
                  <input type="checkbox" name="tradeLimitEnabled"> 
                  <span>فعال کردن حداقل/حداکثر معاملات</span>
              </label>
          </div>
          <div class="trade-limit-fields" style="display: none;">
              <div class="form-group">
                  <label>بازه زمانی</label>
                  <select name="tradeTimeFrame" required>
                      <option value="">انتخاب کنید…</option>
                      <option value="day">در روز</option>
                      <option value="hour">در ساعت</option>
                      <option value="minute">در دقیقه</option>
                  </select>
                  <div class="error-message"></div>
              </div>
              <div class="trade-value-fields" style="display: none;">
                  <div class="form-group">
                      <label>حداقل معاملات</label>
                      <input type="number" name="minTrades" min="0" required>
                      <div class="error-message"></div>
                  </div>
                  <div class="form-group">
                      <label>حداکثر معاملات</label>
                      <input type="number" name="maxTrades" min="0" required>
                      <div class="error-message"></div>
                  </div>
              </div>
          </div>

          <!-- نوع مدیریت ریسک -->
          <div class="form-group">
              <label>نوع مدیریت ریسک</label>
              <div>
                  <label class="option-label"><input type="radio" name="riskManagement" value="percentage" required> <span>% از سرمایه</span></label>
                  <label class="option-label"><input type="radio" name="riskManagement" value="fixed"> <span>حجم ثابت</span></label>
              </div>
              <div class="error-message"></div>
          </div>
          <div class="risk-percentage-field" style="display: none;">
              <div class="form-group">
                  <label>درصد ریسک (%)</label>
                  <input type="number" name="riskPercentage" min="0" required>
                  <div class="error-message"></div>
              </div>
          </div>
          <div class="risk-fixed-field" style="display: none;">
              <div class="form-group">
                  <label>حجم ثابت (Lot)</label>
                  <input type="number" name="riskFixed" min="0" step="0.01" required>
                  <div class="error-message"></div>
              </div>
          </div>
        </div>


        <!-- مرحله ۴: تنظیمات پیشرفته -->
        <div class="step">
          <h2>مرحله ۴: تنظیمات پیشرفته</h2>
          
          <!-- تنظیمات ویژه -->
          <div class="form-group">
              <label>تنظیمات ویژه</label>
              <div class="options-container">
                  <label class="option-label">
                      <input type="checkbox" name="trailingStop" value="Trailing Stop">
                      <span>Trailing Stop</span>
                  </label>
                  <label class="option-label">
                      <input type="checkbox" name="riskFree" value="Risk-Free">
                      <span>Risk-Free</span>
                  </label>
              </div>
              <div class="error-message"></div>
          </div>
          <!-- فیلد توضیحات برای Trailing Stop -->
          <div class="form-group trailing-stop-details" style="display: none;">
              <label>توضیحات Trailing Stop</label>
              <textarea name="trailingStopDetails" placeholder="نحوه عملکرد Trailing Stop را توضیح دهید"></textarea>
              <div class="error-message"></div>
          </div>
          <!-- فیلد توضیحات برای Risk-Free -->
          <div class="form-group risk-free-details" style="display: none;">
              <label>توضیحات Risk-Free</label>
              <textarea name="riskFreeDetails" placeholder="نحوه عملکرد Risk-Free را توضیح دهید"></textarea>
              <div class="error-message"></div>
          </div>

          <!-- زمان‌های ممنوعه معاملات -->
          <div class="form-group">
              <label class="option-label">
                  <input type="checkbox" name="forbiddenTimesEnabled" value="enabled">
                  <span>فعال کردن زمان‌های ممنوعه معاملات</span>
              </label>
              <div class="error-message"></div>
          </div>
          <div class="form-group forbidden-times-fields" style="display: none;">
              <label>بازه زمانی ممنوعه</label>
              <div class="time-range">
                  <input type="time" name="forbiddenStartTime" placeholder="ساعت شروع">
                  <input type="time" name="forbiddenEndTime" placeholder="ساعت پایان">
              </div>
              <div class="error-message"></div>
          </div>

          <!-- حداکثر Drawdown -->
          <div class="form-group">
              <label class="option-label">
                  <input type="checkbox" name="maxDrawdownEnabled" value="enabled">
                  <span>فعال کردن حداکثر Drawdown</span>
              </label>
              <div class="error-message"></div>
          </div>
          <div class="form-group max-drawdown-field" style="display: none;">
              <label>حداکثر Drawdown (%)</label>
              <input type="number" name="maxDrawdown" placeholder="درصد Drawdown" min="0" max="100">
              <div class="error-message"></div>
          </div>

          <!-- شرایط ورود -->
          <div class="form-group">
              <label>شرایط ورود</label>
              <textarea name="entryConditions" placeholder="شرایط ورود به معامله را وارد کنید" required></textarea>
              <div class="error-message"></div>
          </div>

          <!-- شرایط خروج -->
          <div class="form-group">
              <label>شرایط خروج</label>
              <textarea name="exitConditions" placeholder="شرایط خروج از معامله را وارد کنید" required></textarea>
              <div class="error-message"></div>
          </div>

          <!-- توضیحات کلی پروژه -->
          <div class="form-group">
              <label>توضیحات کلی پروژه</label>
              <textarea name="projectDescription" placeholder="توضیحات کلی پروژه"></textarea>
              <div class="error-message"></div>
          </div>
        </div>


        <!-- مرحله 5: بازبینی و ارسال -->
        <div class="step">
            <h2>مرحله ۵: بازبینی و ارسال</h2>
            <div id="summary">
                <h3>خلاصه اطلاعات شما:</h3>
                <ul></ul>
            </div>
            <div class="form-group">
                <label class="option-label"><input type="checkbox" name="confirm" required> <span>اطلاعات را بازبینی کرده و تأیید می‌کنم</span></label>
                <div class="error-message"></div>
            </div>
        </div>

        <!-- دکمه‌های ناوبری (فقط یک مجموعه در انتهای فرم) -->
        <div class="buttons">
            <button type="button" id="prevBtn" style="display: none;">قبلی</button>
            <button type="button" id="nextBtn">بعدی</button>
            <button type="submit" id="submitBtn" style="display: none;">ارسال</button>
        </div>
    </form>
</div>

</body>
</html>

